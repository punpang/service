(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{2:function(t,s,a){"use strict";var r={props:["overlay"]},e=a(1),o=Object(e.a)(r,(function(){var t=this.$createElement,s=this._self._c||t;return s("v-overlay",{attrs:{value:this.overlay}},[s("v-progress-circular",{attrs:{indeterminate:"",size:this.$store.getters["main/sizeOverlay"]}})],1)}),[],!1,null,null,null);s.a=o.exports},3:function(t,s,a){"use strict";var r={props:["snackbar"]},e=a(1),o=Object(e.a)(r,(function(){var t=this,s=t.$createElement;return(t._self._c||s)("v-snackbar",{attrs:{color:t.snackbar.color,right:""},model:{value:t.snackbar.status,callback:function(s){t.$set(t.snackbar,"status",s)},expression:"snackbar.status"}},[t._v(t._s(t.snackbar.text))])}),[],!1,null,null,null);s.a=o.exports},35:function(t,s,a){"use strict";a.r(s);var r=a(0),e=a.n(r),o=a(2),n=a(4),c={props:["order"]},l=a(1),v=Object(l.a)(c,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"6",md:"6"}},[t._v("ชื่อลูกค้า")]),t._v(" "),a("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6"}},[t._v(t._s(t.order.customer_not_f_b.name))])],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"6",md:"6"}},[t._v("เบอร์โทรศัพท์")]),t._v(" "),a("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6"}},[t._v(t._s(t.order.customer_not_f_b.phone))])],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"5",md:"6"}},[t._v("วัน-เวลารับสินค้า")]),t._v(" "),a("v-col",{staticClass:"text-right",attrs:{cols:"7",md:"6"}},[t._v(t._s(t.order.dateTime_get))])],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"6",md:"6"}},[t._v("สถานะ")]),t._v(" "),a("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6"}},[t._v(t._s(t.order.order_status.name))])],1)],1)}),[],!1,null,null,null).exports,i=a(3);function u(t,s,a,r,e,o,n){try{var c=t[o](n),l=c.value}catch(t){return void a(t)}c.done?s(l):Promise.resolve(l).then(r,e)}function m(t){return function(){var s=this,a=arguments;return new Promise((function(r,e){var o=t.apply(s,a);function n(t){u(o,r,e,n,c,"next",t)}function c(t){u(o,r,e,n,c,"throw",t)}n(void 0)}))}}var _={components:{CostSub:n.a,OrderDetail:v,overlay:o.a,snackbarRight:i.a},data:function(){return{token:"",amount:"",previewSlip:"",show:!0,verity:!0,sum:{},snackbar:{},overlay:!1,slipFile:{},order:{customer_not_f_b:{name:"",phone:""},order_status:{name:""}},bank:{book:{nameBank:"ธนาคารไทยพาณิชย์",logoBank:"https://apply.scb.co.th/selfservices/easy-lg/common/img/logo-scb-w.png",name:"พรรษิษฐ์ ศรีสุข",number:"408-672-0266",numberClipboard:"4086720266"}}}},methods:{onFileChange:function(t){this.slipFile=event.target.files[0],this.previewSlip=URL.createObjectURL(t)},onCopy:function(){this.snackbar={status:!0,color:"success",text:"คัดลอกแล้ว"}},clickSubmit:function(){var t=this;return m(e.a.mark((function s(){var a;return e.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(t.overlay=!0,!t.$refs.form.validate()){s.next=8;break}return(a=new FormData).append("image",t.slipFile),s.next=6,axios.post("/api/v1/guest/order/"+t.token+"/payment/alert/uploadslip",a);case 6:200===s.sent.status&&(t.show=!1);case 8:t.overlay=!1;case 9:case"end":return s.stop()}}),s)})))()}},created:function(){var t=this;return m(e.a.mark((function s(){var a;return e.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t.token=t.$route.params.token,t.amount=t.$route.params.amount,s.next=4,axios.get("/api/v1/guest/order/"+t.token+"/payment/alert");case 4:200==(a=s.sent).status?(t.order=a.data.data,t.sum=a.data.sum,t.verity=!0):t.verity=!1;case 6:case"end":return s.stop()}}),s)})))()}},d=Object(l.a)(_,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[t.verity?a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",[a("v-card-title",[t._v("\n                    แจ้งชำระเงิน\n                    "),a("v-spacer"),t._v("\n                    #"+t._s(t.order.id)+"\n                ")],1),t._v(" "),a("v-divider",{staticClass:"ma-0"}),t._v(" "),a("v-card-text",{staticClass:"py-0"},[a("OrderDetail",{attrs:{order:t.order}}),t._v(" "),a("v-divider",{staticClass:"ma-0"}),t._v(" "),a("CostSub",{attrs:{sum:this.sum}})],1)],1)],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",[a("v-card-title",[t._v("\n                    ยืนยันการชำระเงิน (ที่นี่)\n                ")]),t._v(" "),a("v-divider",{staticClass:"mt-0"}),t._v(" "),a("v-card-text",{staticClass:"pt-0"},[t.show?a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-alert",{staticClass:"ma-0",attrs:{type:"warning"}},[t._v("\n                            โปรดชำระเงินขั้นต่ำด้วยยอด "+t._s(t.amount)+" บาท\n                        ")]),t._v(" "),a("v-row",[a("v-col",{staticClass:"pt-5",attrs:{cols:"12",md:"6"}},[a("v-img",{attrs:{src:t.bank.book.logoBank}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-row",[a("v-col",{attrs:{cols:"6",md:"6"}},[t._v("\n                                        ชื่อบัญชี\n                                    ")]),t._v(" "),a("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6"}},[t._v("\n                                        "+t._s(t.bank.book.name)+"\n                                    ")])],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"5",md:"5"}},[t._v("\n                                        เลขที่บัญชี\n                                    ")]),t._v(" "),a("v-col",{staticClass:"text-right",attrs:{cols:"7",md:"7"}},[a("v-btn",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.bank.book.numberClipboard,expression:"\n                                                bank.book.numberClipboard\n                                            ",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],attrs:{"x-small":"",icon:"",color:"primary",fab:""}},[a("v-icon",[t._v("file_copy")])],1),t._v("\n                                        "+t._s(t.bank.book.number)+"\n                                    ")],1)],1)],1)],1),t._v(" "),a("v-file-input",{staticClass:"mb-4",attrs:{outlined:"","prepend-icon":"image",placeholder:"แนบสลิปการชำระเงิน",accept:"image/*","hide-details":"",rules:[function(t){return!!t}]},on:{change:t.onFileChange}}),t._v(" "),a("v-img",{staticClass:"mb-4",attrs:{src:t.previewSlip}}),t._v(" "),a("v-btn",{attrs:{color:"success",large:"",block:""},on:{click:t.clickSubmit}},[a("v-icon",{attrs:{left:""}},[t._v("cloud_upload")]),t._v("\n                            แจ้งชำระเงิน\n                        ")],1)],1):a("v-alert",{staticClass:"ma-0",attrs:{type:"success"}},[t._v("ขอบคุณที่ชำระเงินค่ะ\n                        เราจะตรวจสอบและแจ้งผลโดยเร็วที่สุดค่ะ")])],1)],1)],1)],1):a("v-alert",{attrs:{type:"error"}},[t._v("\n        ไม่มีสิทธิ์เข้าถึงการใช้งาน กรุณาติดต่อทางร้านค่ะ โทร.091-885-3402\n    ")]),t._v(" "),a("overlay",{attrs:{overlay:t.overlay}}),t._v(" "),a("snackbarRight",{attrs:{snackbar:t.snackbar}})],1)}),[],!1,null,null,null);s.default=d.exports},4:function(t,s,a){"use strict";var r={props:["sum"]},e=a(1),o=Object(e.a)(r,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"6",md:"6",sm:"6"}},[t._v("ยอดรวมทั้งหมด")]),t._v(" "),a("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6",sm:"6"}},[t._v(t._s(t.sum.total)+" บาท")])],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"6",md:"6"}},[t._v("ยอดชำระแล้ว")]),t._v(" "),a("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6"}},[t._v(t._s(t.sum.deposit)+" บาท")])],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"6",md:"6"}},[t._v("ยอดคงเหลือ")]),t._v(" "),a("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6"}},[t._v(t._s(t.sum.balance)+" บาท")])],1)],1)}),[],!1,null,null,null);s.a=o.exports}}]);