(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{11:function(t,s,e){"use strict";var a={props:["snackbar"]},r=e(1),o=Object(r.a)(a,(function(){var t=this,s=t.$createElement;return(t._self._c||s)("v-snackbar",{attrs:{color:t.snackbar.color,right:""},model:{value:t.snackbar.status,callback:function(s){t.$set(t.snackbar,"status",s)},expression:"snackbar.status"}},[t._v(t._s(t.snackbar.text))])}),[],!1,null,null,null);s.a=o.exports},12:function(t,s,e){"use strict";var a={props:["order"]},r=e(1),o=Object(r.a)(a,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("v-row",[e("v-col",{attrs:{cols:"6",md:"6"}},[t._v("ชื่อลูกค้า")]),t._v(" "),e("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6"}},[t._v(t._s(t.order.customer_not_f_b.name))])],1),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"6",md:"6"}},[t._v("เบอร์โทรศัพท์")]),t._v(" "),e("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6"}},[t._v(t._s(t.order.customer_not_f_b.phone))])],1),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"5",md:"6"}},[t._v("วัน-เวลารับสินค้า")]),t._v(" "),e("v-col",{staticClass:"text-right",attrs:{cols:"7",md:"6"}},[t._v(t._s(t.order.dateTime_get))])],1),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"6",md:"6"}},[t._v("ช่องทางการสั่งซื้อ")]),t._v(" "),e("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6"}},[t._v(t._s(t.order.channel_of_purchase.name))])],1),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"5",md:"5"}},[t._v("สถานะ")]),t._v(" "),e("v-col",{staticClass:"text-right",attrs:{cols:"7",md:"7"}},[t._v(t._s(t.order.order_status.name))])],1)],1)}),[],!1,null,null,null);s.a=o.exports},2:function(t,s,e){"use strict";var a={props:["overlay"]},r=e(1),o=Object(r.a)(a,(function(){var t=this.$createElement,s=this._self._c||t;return s("v-overlay",{attrs:{value:this.overlay}},[s("v-progress-circular",{attrs:{indeterminate:"",size:this.$store.getters["main/sizeOverlay"]}})],1)}),[],!1,null,null,null);s.a=o.exports},4:function(t,s,e){"use strict";var a={props:["sum"]},r=e(1),o=Object(r.a)(a,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("v-row",[e("v-col",{attrs:{cols:"6",md:"6",sm:"6"}},[t._v("ยอดรวมทั้งหมด")]),t._v(" "),e("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6",sm:"6"}},[t._v(t._s(t.sum.total)+" บาท")])],1),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"6",md:"6"}},[t._v("ยอดชำระแล้ว")]),t._v(" "),e("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6"}},[t._v(t._s(t.sum.deposit)+" บาท")])],1),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"6",md:"6"}},[t._v("ยอดคงเหลือ")]),t._v(" "),e("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6"}},[t._v(t._s(t.sum.balance)+" บาท")])],1)],1)}),[],!1,null,null,null);s.a=o.exports},40:function(t,s,e){"use strict";e.r(s);var a=e(0),r=e.n(a),o=e(2),n=e(4),i=e(12),c=e(11),l={props:["conditions"],methods:{changeConditions:function(){var t={deposit:this.conditions.deposit,dateTime_get:this.conditions.dateTime_get,acceptAll:this.conditions.acceptAll};this.$emit("emitConditions",t)}}},v=e(1),d=Object(v.a)(l,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("h5",[t._v("โปรดรับทราบเงื่อนไข")]),t._v(" "),e("v-checkbox",{staticClass:"mt-0",attrs:{"hide-details":"",label:"หากท่านยกเลิกรายการสั่งซื้อนี้ ทางร้านขอสงวนสิทธิ์ ไม่คืนเงินมัดจำทั้งจำนวน แต่ทางร้านจะออกคูปองเงินสด เท่ากับยอดชำระมัดจำทั้งจำนวน เพื่อใช้แทนเงินสดและใช้เลือกซื้อสินค้าภายในร้าน",rules:[function(t){return!0===t}]},on:{change:t.changeConditions},model:{value:t.conditions.deposit,callback:function(s){t.$set(t.conditions,"deposit",s)},expression:"conditions.deposit"}}),t._v(" "),e("v-checkbox",{staticClass:"mt-0",attrs:{"hide-details":"",label:"ท่านสามารถรับสินค้าได้ตั้งแต่ 1 หรือหลังจากได้รับข้อความแจ้งว่า ทางร้านได้จัดเตรียมสินค้าของท่านเสร็จแล้ว",rules:[function(t){return!0===t}]},model:{value:t.conditions.dateTime_get,callback:function(s){t.$set(t.conditions,"dateTime_get",s)},expression:"conditions.dateTime_get"}}),t._v(" "),e("v-checkbox",{staticClass:"mt-0",attrs:{"hide-details":"",label:"ท่านได้รับทราบและยอมรับเงื่อนไขทั้งหมดแล้ว",rules:[function(t){return!0===t}]},model:{value:t.conditions.acceptAll,callback:function(s){t.$set(t.conditions,"acceptAll",s)},expression:"conditions.acceptAll"}})],1)}),[],!1,null,null,null).exports;function u(t,s,e,a,r,o,n){try{var i=t[o](n),c=i.value}catch(t){return void e(t)}i.done?s(c):Promise.resolve(c).then(a,r)}function m(t){return function(){var s=this,e=arguments;return new Promise((function(a,r){var o=t.apply(s,e);function n(t){u(o,a,r,n,i,"next",t)}function i(t){u(o,a,r,n,i,"throw",t)}n(void 0)}))}}var p={components:{CostSub:n.a,OrderDetail:i.a,overlay:o.a,snackbarRight:c.a,paymentConditions:d},data:function(){return{token:"",amount:"",previewSlip:"",show:!0,verity:!0,sum:{},snackbar:{},overlay:!1,slipFile:{},conditions:{deposit:!1,dateTime_get:!1,acceptAll:!1},order:{customer_not_f_b:{name:"",phone:""},order_status:{name:""}},bank:{book:{nameBank:"ธนาคารไทยพาณิชย์",logoBank:"https://apply.scb.co.th/selfservices/easy-lg/common/img/logo-scb-w.png",name:"พรรษิษฐ์ ศรีสุข",number:"408-672-0266",numberClipboard:"4086720266"}}}},methods:{emitConditions:function(t){this.conditions=t},onFileChange:function(t){this.slipFile=event.target.files[0],this.previewSlip=URL.createObjectURL(t)},onCopy:function(){this.snackbar={status:!0,color:"success",text:"คัดลอกแล้ว"}},clickSubmit:function(){var t=this;return m(r.a.mark((function s(){var e,a;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e=t.$loading.show(),!t.$refs.form.validate()){s.next=8;break}return(a=new FormData).append("image",t.slipFile),s.next=6,axios.post("/api/v1/guest/order/"+t.token+"/payment/alert/uploadslip",a);case 6:200===s.sent.status&&(t.show=!1);case 8:e.hide();case 9:case"end":return s.stop()}}),s)})))()},start:function(){var t=this;return m(r.a.mark((function s(){var e,a;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e=t.$loading.show(),t.token=t.$route.params.token,t.amount=t.$route.params.amount,a="",s.prev=4,s.next=7,axios.get("/api/v1/guest/order/"+t.token+"/payment/alert");case 7:a=s.sent,s.next=13;break;case 10:s.prev=10,s.t0=s.catch(4),a=s.t0;case 13:200==a.status?(t.order=a.data.data,t.sum=a.data.sum,t.verity=!0):t.verity=!1,e.hide();case 15:case"end":return s.stop()}}),s,null,[[4,10]])})))()}},mounted:function(){var t=this;return m(r.a.mark((function s(){return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t.start();case 1:case"end":return s.stop()}}),s)})))()}},_=Object(v.a)(p,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t.verity?e("v-row",[e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-card",[e("v-card-title",[t._v("\n                    แจ้งชำระเงิน\n                    "),e("v-spacer"),t._v("\n                    #"+t._s(t.order.id)+"\n                ")],1),t._v(" "),e("v-divider",{staticClass:"ma-0"}),t._v(" "),e("v-card-text",{staticClass:"py-0"},[e("OrderDetail",{attrs:{order:t.order}}),t._v(" "),e("v-divider",{staticClass:"ma-0"}),t._v(" "),e("CostSub",{attrs:{sum:t.sum}})],1)],1)],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-card",[e("v-card-title",[t._v("\n                    ยืนยันการชำระเงิน (ที่นี่)\n                ")]),t._v(" "),e("v-divider",{staticClass:"mt-0"}),t._v(" "),t.sum.balance>0?e("v-card-text",{staticClass:"pt-0"},[t.show?e("v-form",{ref:"form",attrs:{"lazy-validation":""}},[e("v-alert",{staticClass:"ma-0",attrs:{type:"warning"}},[t._v("\n                            โปรดชำระเงินขั้นต่ำด้วยยอด "+t._s(t.amount)+" บาท\n                        ")]),t._v(" "),e("v-row",[e("v-col",{staticClass:"pt-5",attrs:{cols:"12",md:"6"}},[e("v-img",{attrs:{src:t.bank.book.logoBank}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-row",[e("v-col",{attrs:{cols:"6",md:"6"}},[t._v("\n                                        ชื่อบัญชี\n                                    ")]),t._v(" "),e("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6"}},[t._v("\n                                        "+t._s(t.bank.book.name)+"\n                                    ")])],1),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"5",md:"5"}},[t._v("\n                                        เลขที่บัญชี\n                                    ")]),t._v(" "),e("v-col",{staticClass:"text-right",attrs:{cols:"7",md:"7"}},[e("v-btn",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.bank.book.numberClipboard,expression:"\n                                                bank.book.numberClipboard\n                                            ",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],attrs:{"x-small":"",icon:"",color:"primary",fab:""}},[e("v-icon",[t._v("file_copy")])],1),t._v("\n                                        "+t._s(t.bank.book.number)+"\n                                    ")],1)],1)],1)],1),t._v(" "),e("v-file-input",{attrs:{outlined:"","prepend-icon":"image",placeholder:"แนบสลิปการชำระเงิน",accept:"image/*","hide-details":"",rules:[function(t){return!!t}]},on:{change:t.onFileChange}}),t._v(" "),t.previewSlip?e("div",[e("v-divider"),t._v(" "),e("v-img",{attrs:{src:t.previewSlip}})],1):t._e(),t._v(" "),e("v-divider"),t._v(" "),e("paymentConditions",{attrs:{conditions:t.conditions},on:{emitConditions:t.emitConditions}}),t._v(" "),e("v-divider"),t._v(" "),e("v-btn",{attrs:{color:"success",large:"",block:"",disabled:!(t.conditions.deposit&&t.conditions.dateTime_get&&t.conditions.acceptAll&&t.previewSlip)},on:{click:t.clickSubmit}},[e("v-icon",{attrs:{left:""}},[t._v("cloud_upload")]),t._v("\n                            แจ้งชำระเงิน\n                        ")],1)],1):e("v-alert",{staticClass:"ma-0",attrs:{type:"success"}},[t._v("ขอบคุณที่ชำระเงินค่ะ\n                        เราจะตรวจสอบและแจ้งผลโดยเร็วที่สุดค่ะ")])],1):e("v-card-text",{staticClass:"pt-0"},[e("v-alert",{staticClass:"ma-0",attrs:{type:"success"}},[t._v("คุณได้ทำการชำระครบจำนวนแล้วค่ะ")])],1)],1)],1)],1):e("v-alert",{attrs:{type:"error"}},[t._v("\n        ไม่สามารถเข้าถึงเนื้อหาได้ กรุณาลองอีกครั้งภายหลัง หรือโทร.\n        091-885-3402\n    ")]),t._v(" "),e("overlay",{attrs:{overlay:t.overlay}}),t._v(" "),e("snackbarRight",{attrs:{snackbar:t.snackbar}})],1)}),[],!1,null,null,null);s.default=_.exports}}]);