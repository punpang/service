(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{2:function(t,a,s){"use strict";var r={props:["overlay"]},e=s(1),o=Object(e.a)(r,(function(){var t=this.$createElement,a=this._self._c||t;return a("v-overlay",{attrs:{value:this.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:this.$store.getters["main/sizeOverlay"]}})],1)}),[],!1,null,null,null);a.a=o.exports},37:function(t,a,s){"use strict";s.r(a);var r=s(0),e=s.n(r),o=s(2),n=s(4),c={props:["order"]},l=s(1),v=Object(l.a)(c,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("v-row",[s("v-col",{attrs:{cols:"6",md:"6"}},[t._v("ชื่อลูกค้า")]),t._v(" "),s("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6"}},[t._v(t._s(t.order.customer_not_f_b.name))])],1),t._v(" "),s("v-row",[s("v-col",{attrs:{cols:"6",md:"6"}},[t._v("เบอร์โทรศัพท์")]),t._v(" "),s("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6"}},[t._v(t._s(t.order.customer_not_f_b.phone))])],1),t._v(" "),s("v-row",[s("v-col",{attrs:{cols:"5",md:"6"}},[t._v("วัน-เวลารับสินค้า")]),t._v(" "),s("v-col",{staticClass:"text-right",attrs:{cols:"7",md:"6"}},[t._v(t._s(t.order.dateTime_get))])],1),t._v(" "),s("v-row",[s("v-col",{attrs:{cols:"6",md:"6"}},[t._v("สถานะ")]),t._v(" "),s("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6"}},[t._v(t._s(t.order.order_status.name))])],1)],1)}),[],!1,null,null,null).exports,i=s(9);function u(t,a,s,r,e,o,n){try{var c=t[o](n),l=c.value}catch(t){return void s(t)}c.done?a(l):Promise.resolve(l).then(r,e)}function m(t){return function(){var a=this,s=arguments;return new Promise((function(r,e){var o=t.apply(a,s);function n(t){u(o,r,e,n,c,"next",t)}function c(t){u(o,r,e,n,c,"throw",t)}n(void 0)}))}}var _={components:{CostSub:n.a,OrderDetail:v,overlay:o.a,snackbarRight:i.a},data:function(){return{token:"",amount:"",previewSlip:"",show:!0,verity:!0,sum:{},snackbar:{},overlay:!1,slipFile:{},order:{customer_not_f_b:{name:"",phone:""},order_status:{name:""}},bank:{book:{nameBank:"ธนาคารไทยพาณิชย์",logoBank:"https://apply.scb.co.th/selfservices/easy-lg/common/img/logo-scb-w.png",name:"พรรษิษฐ์ ศรีสุข",number:"408-672-0266",numberClipboard:"4086720266"}}}},methods:{onFileChange:function(t){this.slipFile=event.target.files[0],this.previewSlip=URL.createObjectURL(t)},onCopy:function(){this.snackbar={status:!0,color:"success",text:"คัดลอกแล้ว"}},clickSubmit:function(){var t=this;return m(e.a.mark((function a(){var s;return e.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.overlay=!0,!t.$refs.form.validate()){a.next=8;break}return(s=new FormData).append("image",t.slipFile),a.next=6,axios.post("/api/v1/guest/order/"+t.token+"/payment/alert/uploadslip",s);case 6:200===a.sent.status&&(t.show=!1);case 8:t.overlay=!1;case 9:case"end":return a.stop()}}),a)})))()},start:function(){var t=this;return m(e.a.mark((function a(){var s;return e.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.overlay=!0,t.token=t.$route.params.token,t.amount=t.$route.params.amount,s="",a.prev=4,a.next=7,axios.get("/api/v1/guest/order/"+t.token+"/payment/alert");case 7:s=a.sent,a.next=13;break;case 10:a.prev=10,a.t0=a.catch(4),s=a.t0;case 13:200==s.status?(t.order=s.data.data,t.sum=s.data.sum,t.verity=!0):t.verity=!1,t.overlay=!1;case 15:case"end":return a.stop()}}),a,null,[[4,10]])})))()}},mounted:function(){var t=this;return m(e.a.mark((function a(){return e.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.start();case 1:case"end":return a.stop()}}),a)})))()}},d=Object(l.a)(_,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[t.verity?s("v-row",[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-card",[s("v-card-title",[t._v("\n                    แจ้งชำระเงิน\n                    "),s("v-spacer"),t._v("\n                    #"+t._s(t.order.id)+"\n                ")],1),t._v(" "),s("v-divider",{staticClass:"ma-0"}),t._v(" "),s("v-card-text",{staticClass:"py-0"},[s("OrderDetail",{attrs:{order:t.order}}),t._v(" "),s("v-divider",{staticClass:"ma-0"}),t._v(" "),s("CostSub",{attrs:{sum:t.sum}})],1)],1)],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-card",[s("v-card-title",[t._v("\n                    ยืนยันการชำระเงิน (ที่นี่)\n                ")]),t._v(" "),s("v-divider",{staticClass:"mt-0"}),t._v(" "),t.sum.balance>0?s("v-card-text",{staticClass:"pt-0"},[t.show?s("v-form",{ref:"form",attrs:{"lazy-validation":""}},[s("v-alert",{staticClass:"ma-0",attrs:{type:"warning"}},[t._v("\n                            โปรดชำระเงินขั้นต่ำด้วยยอด "+t._s(t.amount)+" บาท\n                        ")]),t._v(" "),s("v-row",[s("v-col",{staticClass:"pt-5",attrs:{cols:"12",md:"6"}},[s("v-img",{attrs:{src:t.bank.book.logoBank}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-row",[s("v-col",{attrs:{cols:"6",md:"6"}},[t._v("\n                                        ชื่อบัญชี\n                                    ")]),t._v(" "),s("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6"}},[t._v("\n                                        "+t._s(t.bank.book.name)+"\n                                    ")])],1),t._v(" "),s("v-row",[s("v-col",{attrs:{cols:"5",md:"5"}},[t._v("\n                                        เลขที่บัญชี\n                                    ")]),t._v(" "),s("v-col",{staticClass:"text-right",attrs:{cols:"7",md:"7"}},[s("v-btn",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.bank.book.numberClipboard,expression:"\n                                                bank.book.numberClipboard\n                                            ",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],attrs:{"x-small":"",icon:"",color:"primary",fab:""}},[s("v-icon",[t._v("file_copy")])],1),t._v("\n                                        "+t._s(t.bank.book.number)+"\n                                    ")],1)],1)],1)],1),t._v(" "),s("v-file-input",{staticClass:"mb-4",attrs:{outlined:"","prepend-icon":"image",placeholder:"แนบสลิปการชำระเงิน",accept:"image/*","hide-details":"",rules:[function(t){return!!t}]},on:{change:t.onFileChange}}),t._v(" "),s("v-img",{staticClass:"mb-4",attrs:{src:t.previewSlip}}),t._v(" "),s("v-btn",{attrs:{color:"success",large:"",block:""},on:{click:t.clickSubmit}},[s("v-icon",{attrs:{left:""}},[t._v("cloud_upload")]),t._v("\n                            แจ้งชำระเงิน\n                        ")],1)],1):s("v-alert",{staticClass:"ma-0",attrs:{type:"success"}},[t._v("ขอบคุณที่ชำระเงินค่ะ\n                        เราจะตรวจสอบและแจ้งผลโดยเร็วที่สุดค่ะ")])],1):s("v-card-text",{staticClass:"pt-0"},[s("v-alert",{staticClass:"ma-0",attrs:{type:"success"}},[t._v("คุณได้ทำการชำระครบจำนวนแล้วค่ะ")])],1)],1)],1)],1):s("v-alert",{attrs:{type:"error"}},[t._v("\n        ไม่สามารถเข้าถึงเนื้อหาได้ กรุณาลองอีกครั้งภายหลัง หรือโทร.\n        091-885-3402\n    ")]),t._v(" "),s("overlay",{attrs:{overlay:t.overlay}}),t._v(" "),s("snackbarRight",{attrs:{snackbar:t.snackbar}})],1)}),[],!1,null,null,null);a.default=d.exports},4:function(t,a,s){"use strict";var r={props:["sum"]},e=s(1),o=Object(e.a)(r,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("v-row",[s("v-col",{attrs:{cols:"6",md:"6",sm:"6"}},[t._v("ยอดรวมทั้งหมด")]),t._v(" "),s("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6",sm:"6"}},[t._v(t._s(t.sum.total)+" บาท")])],1),t._v(" "),s("v-row",[s("v-col",{attrs:{cols:"6",md:"6"}},[t._v("ยอดชำระแล้ว")]),t._v(" "),s("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6"}},[t._v(t._s(t.sum.deposit)+" บาท")])],1),t._v(" "),s("v-row",[s("v-col",{attrs:{cols:"6",md:"6"}},[t._v("ยอดคงเหลือ")]),t._v(" "),s("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"6"}},[t._v(t._s(t.sum.balance)+" บาท")])],1)],1)}),[],!1,null,null,null);a.a=o.exports},9:function(t,a,s){"use strict";var r={props:["snackbar"]},e=s(1),o=Object(e.a)(r,(function(){var t=this,a=t.$createElement;return(t._self._c||a)("v-snackbar",{attrs:{color:t.snackbar.color,right:""},model:{value:t.snackbar.status,callback:function(a){t.$set(t.snackbar,"status",a)},expression:"snackbar.status"}},[t._v(t._s(t.snackbar.text))])}),[],!1,null,null,null);a.a=o.exports}}]);